import{Context as C,EffectSignal_Factory as I,MemoSignal_Factory as E,RecordStateSignal_Factory as F,StateSignal_Factory as w,createHyperScript as J}from"../chunk-DJFN2WMY.js";var n=new C,M=n.addClass(w),T=n.addClass(E),N=n.addClass(F),b=n.addClass(I),O=(d,c)=>{let o=localStorage.getItem(d),[p,i,v,,a]=N(o?JSON.parse(o):c);return b(u=>localStorage.setItem(d,JSON.stringify(i(u)[0])),{defer:!1}),[i,v,a]},[t,R]=J(n),q=n.onInit,A=()=>{let[,d,c]=M(""),[o,p,i]=O("todos",[]),v=l=>{l.preventDefault(),p(o()[0].length,{title:d(),done:!1}),c(""),a.value=d()},a=t("input",{placeholder:"enter todo and click +",required:!0}),u=t("form",null,a,t("button",null,"+"));u.onsubmit=v,a.oninput=l=>c(l.currentTarget.value??"");let r=[],m=t("div",null,...r);return b(l=>{let[f,..._]=o(l);q(l,()=>{_=[...f.keys()].filter(e=>f[e]!=null)});for(let e of _){let g=f[e];if(g&&e>=r.length){let S=t("input",{type:"checkbox",checked:T(s=>o(s)[0][e]?.done?"":void 0)[1]}),h=t("input",{type:"text",value:T(s=>o(s)[0][e]?.title??"")[1]}),y=t("button",null,"x"),k=s=>p(e,{done:S.checked,title:h.value});S.onchange=k,h.onchange=k,y.onclick=()=>i(e);let x=t("div",null,S,h,y);r[e]=x,m.append(x)}else g||(r[e]?.remove(),r[e]=void 0)}},{defer:!1}),t(R,null,t("h3",null,"Simple Todos Example"),u,m)};document.getElementById("root").append(...A());export{t as h,R as hf};
